<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>interaction effects between endogenous variables • modsem</title>
<script src="../deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="interaction effects between endogenous variables">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">modsem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/modsem.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/customizing.html">customizing interaction terms</a></li>
    <li><a class="dropdown-item" href="../articles/interaction_two_etas.html">interaction effects between endogenous variables</a></li>
    <li><a class="dropdown-item" href="../articles/lavaan.html">using lavaan functions</a></li>
    <li><a class="dropdown-item" href="../articles/lms_qml.html">LMS and QML approaches</a></li>
    <li><a class="dropdown-item" href="../articles/methods.html">methods</a></li>
    <li><a class="dropdown-item" href="../articles/observed_lms_qml.html">observed variables in the LMS- and QML approach</a></li>
    <li><a class="dropdown-item" href="../articles/plot_interactions.html">plotting interaction effects</a></li>
    <li><a class="dropdown-item" href="../articles/quadratic.html">quadratic effects</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Kss2k/modsem/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>interaction effects between endogenous variables</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Kss2k/modsem/blob/push-to-gh-pages/vignettes/interaction_two_etas.Rmd" class="external-link"><code>vignettes/interaction_two_etas.Rmd</code></a></small>
      <div class="d-none name"><code>interaction_two_etas.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Kss2k/modsem" class="external-link">modsem</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="the-problem">The Problem<a class="anchor" aria-label="anchor" href="#the-problem"></a>
</h2>
<p>Interaction effects between two endogenous (i.e., dependent)
variables work as you would expect for the product indicator methods
(<code>"dblcent", "rca", "ca", "uca"</code>). For the lms- and qml
approach however, it is not as straight forward.</p>
<p>The lms- and qml approach can (by default) handle interaction effects
between endogenous and exogenous (i.e., independent) variables, but not
interaction effects between two endogenous variables. When there is an
interaction effect between two endogenous variables, the equations
cannot easily be written in ‘reduced’ form – meaning that normal
estimation procedures won’t work.</p>
</div>
<div class="section level2">
<h2 id="the-solution">The Solution<a class="anchor" aria-label="anchor" href="#the-solution"></a>
</h2>
<p>This being said, there is a work-around for these limitations for
both the lms- and qml-approach. In essence, the model can be split into
two parts, one linear and one non-linear. Basically, you can replace the
covariance matrix used in the estimation of the non-linear model, with
the model-implied covariance matrix from a linear model. Thus you can
treat an endogenous variable as if it were exogenous – given that it can
be expressed in a linear model.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Let’s consider the the theory of planned behaviour (TPB) where we
wish to estimate the quadratic effect of INT on BEH (INT:INT). With the
following model:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tpb</span> <span class="op">&lt;-</span> <span class="st">' </span></span>
<span><span class="st"># Outer Model (Based on Hagger et al., 2007)</span></span>
<span><span class="st">  ATT =~ att1 + att2 + att3 + att4 + att5</span></span>
<span><span class="st">  SN =~ sn1 + sn2</span></span>
<span><span class="st">  PBC =~ pbc1 + pbc2 + pbc3</span></span>
<span><span class="st">  INT =~ int1 + int2 + int3</span></span>
<span><span class="st">  BEH =~ b1 + b2</span></span>
<span><span class="st"></span></span>
<span><span class="st"># Inner Model (Based on Steinmetz et al., 2011)</span></span>
<span><span class="st">  INT ~ ATT + SN + PBC</span></span>
<span><span class="st">  BEH ~ INT + PBC </span></span>
<span><span class="st">  BEH ~ INT:INT</span></span>
<span><span class="st">'</span></span></code></pre></div>
<p>Since INT is an endogenous variable, its quadratic term (i.e., an
interaction effect with itself) would include two endogenous variables.
Thus we would ordinarily not be able to estimate this model using the
lms- or qml-approach. However, we can split the model into two parts,
one linear and one non-linear. While INT is an endogenous variable, it
can be expressed in a linear model – since it is not affected by any
interaction terms:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tpb_linear</span> <span class="op">&lt;-</span> <span class="st">'INT ~ PBC + ATT + SN'</span></span></code></pre></div>
<p>We could then remove this part from the original model, giving
us:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tpb_nonlinear</span> <span class="op">&lt;-</span> <span class="st">' </span></span>
<span><span class="st"># Outer Model (Based on Hagger et al., 2007)</span></span>
<span><span class="st">  ATT =~ att1 + att2 + att3 + att4 + att5</span></span>
<span><span class="st">  SN =~ sn1 + sn2</span></span>
<span><span class="st">  PBC =~ pbc1 + pbc2 + pbc3</span></span>
<span><span class="st">  INT =~ int1 + int2 + int3</span></span>
<span><span class="st">  BEH =~ b1 + b2</span></span>
<span><span class="st"></span></span>
<span><span class="st"># Inner Model (Based on Steinmetz et al., 2011)</span></span>
<span><span class="st">  BEH ~ INT + PBC </span></span>
<span><span class="st">  BEH ~ INT:INT</span></span>
<span><span class="st">'</span></span></code></pre></div>
<p>We could now just estimate the non-linear model, since INT now is an
exogenous variable. This would however not incorporate the structural
model for INT. To address this, we can make modsem replace the
covariance matrix (phi) of (INT, PBC, ATT, SN) with the model-implied
covariance matrix from the linear model, whilst estimating both models
simultaneously. To acheive this, we can use the <code>cov.syntax</code>
argument in <code>modsem</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">est_lms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">tpb_nonlinear</span>, data <span class="op">=</span> <span class="va">TPB</span>, cov.syntax <span class="op">=</span> <span class="va">tpb_linear</span>, method <span class="op">=</span> <span class="st">"lms"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est_lms</span><span class="op">)</span></span>
<span></span>
<span><span class="va">est_qml</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/modsem.html">modsem</a></span><span class="op">(</span><span class="va">tpb_nonlinear</span>, data <span class="op">=</span> <span class="va">TPB</span>, cov.syntax <span class="op">=</span> <span class="va">tpb_linear</span>, method <span class="op">=</span> <span class="st">"qml"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">est_qml</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kjell Solem Slupphaug.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
